## FSMGEN TOOL
### Overview
This tool generates C++ code to interface with the tinyfsm library that implements a state machine described by a directed graph.  The development of a state machine consists of the following steps:
  1) Create a directed graph
  2) Use this tool to generate Events.hpp, FSMx.hpp, FSMx.cpp
  3) Implement state machine driver code
  4) Implement state behaviors and event dispatching

### Dependencies
This tool requries:
  * Python (>= 3.6)
  * libgraphviz-dev `sudo apt install libgraphviz-dev`
  * pygraphviz `pip3 install pygraphviz`
  * networkx `pip3 install networkx`

### Create a Directed Graph
The first step is to create a directed graph in the graph description language, [DOT](https://www.graphviz.org/doc/info/lang.html).  See the test graphs in this repo for reference.  There are several constraints enforced by the this tool: 

**Edges**
 1) Edge labels will be used to produce event names
 2) Edge labels must be valid C identifiers (spaces will be replaced by underscores automatically)
 3) Edge labels are treated as case-insensitive when translating to events
 4) Special edge labels: 
   * `\d+\(T\d\)` denotes a timer event (e.g. `350(T2) -> TIMER_2_EVENT` that triggers after 350ms)
   * whitespace denotes an unconditional transition (currently compiled to `UNCONDITIONAL_EVENT`)

**Nodes**
  1) Node names (NOT labels) will be used to produce class names and should be valid C identifiers
  2) The number of machines generated by the tool is equal to the number of entry points specified
  3) Entry points are denoted in the label of a node by prepending `(ENTRY)` (case-sensitive)
  4) React functions are assigned proper transitions
  5) Entry functions are stubbed for user implementation

### Generate Code
After your graph has been prepared, you are ready to generate code using this tool.  The usage is shown below.
```
usage: fsm_gen.py [-h] [-s] infile outdir

Generate C++ state machine from dotfile graph.

positional arguments:
  infile       a *.dot file to be converted.
  outdir       directory to output Events.hpp States.hpp States.cpp

optional arguments:
  -h, --help   show this help message and exit
  -s, --stubs  forces stub generation even when this tool would otherwise
               perform code generation.
```
So this command will get the job done.

`python3 fsm_gen.py [input].dot [output_directory]`

Now check your specified output directory for code files.  You should see:
  1) Events.hpp
  2) FSM1.hpp
  3) FSM1.cpp  
  
Additional FSMx.hpp and FSMx.cpp files will be generated to match the number of entry points in your graph.

### Implement Driver

### Implement State Behaviors and Event Dispatching
